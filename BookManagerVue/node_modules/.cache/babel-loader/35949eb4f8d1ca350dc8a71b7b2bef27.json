{"remainingRequest":"D:\\BookManager\\BookManagerVue\\node_modules\\babel-loader\\lib\\index.js!D:\\BookManager\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\BookManager\\BookManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BookManager\\BookManagerVue\\src\\views\\storage\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\BookManager\\BookManagerVue\\src\\views\\storage\\index.vue","mtime":1719129672984},{"path":"D:\\BookManager\\BookManagerVue\\babel.config.js","mtime":1713778488000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713778494000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1713778492000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713778494000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1713778512000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovQm9va01hbmFnZXIvQm9va01hbmFnZXJWdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgcGVybWlzc2lvbiBmcm9tICJAL2RpcmVjdGl2ZS9wZXJtaXNzaW9uL2luZGV4LmpzIjsgLy8g5p2D6ZmQ5Yik5pat5oyH5LukCmltcG9ydCB3YXZlcyBmcm9tICJAL2RpcmVjdGl2ZS93YXZlcyI7IC8vIHdhdmVzIGRpcmVjdGl2ZQoKaW1wb3J0IHsgZ2V0Q291bnQsIHF1ZXJ5U3RvcmFnZXNCeVBhZ2UsIGFkZFN0b3JhZ2UsIGRlbGV0ZUJvb2tJbmZvLCBkZWxldGVCb29rSW5mb3MsIHVwZGF0ZVN0b3JhZ2UsIHF1ZXJ5U3RvcmFnZSB9IGZyb20gIkAvYXBpL3N0b3JhZ2UiOwppbXBvcnQgeyBxdWVyeUJvb2tUeXBlcyB9IGZyb20gIkAvYXBpL2Jvb2t0eXBlIjsKaW1wb3J0IHsgYm9ycm93Qm9vayB9IGZyb20gIkAvYXBpL2JvcnJvdyI7CmltcG9ydCB7IHF1ZXJ5VXNlcnMgfSBmcm9tICJAL2FwaS91c2VyIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdG9yYWdlIiwKICBkaXJlY3RpdmVzOiB7CiAgICB3YXZlczogd2F2ZXMsCiAgICBwZXJtaXNzaW9uOiBwZXJtaXNzaW9uCiAgfSwKICAvLyDliJvlu7rlkI4KICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIC8vIOS7juacjeWKoeWZqOiOt+WPluaVsOaNruihqOagvOesrOS4gOmhteeahOS/oeaBrwogICAgcXVlcnlTdG9yYWdlc0J5UGFnZSh0aGlzLnF1ZXJ5UGFyYW0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBjb25zb2xlLmxvZygi6aaW6aG15pWw5o2u6I635Y+W5oiQ5YqfIiwgcmVzKTsKICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGE7CiAgICAgIF90aGlzLnJlY29yZFRvdGFsID0gcmVzLmNvdW50OwogICAgfSk7CiAgICAvLyDku47mnI3liqHlmajojrflj5bmiYDmnInnmoTlm77kuabnsbvlnosKICAgIHF1ZXJ5Qm9va1R5cGVzKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGNvbnNvbGUubG9nKCLlm77kuabnsbvlnovojrflj5bmiJDlip8iLCByZXMpOwogICAgICBfdGhpcy50eXBlRGF0YSA9IHJlczsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLnJvbGVJc0FkbWluID09PSBmYWxzZSkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW0ubGltaXQgPSA1OwogICAgICB0aGlzLmhhbmRsZVNpemVDaGFuZ2UodGhpcy5xdWVyeVBhcmFtLmxpbWl0KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIhumhteWkp+Wwj+aUueWPmOebkeWQrAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShjdXJTaXplKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgcGFyYW1zID0gdGhpcy5xdWVyeVBhcmFtOwogICAgICBwYXJhbXMubGltaXQgPSBjdXJTaXplOwogICAgICBxdWVyeVN0b3JhZ2VzQnlQYWdlKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2coIuWIhumhteaVsOaNruiOt+WPluaIkOWKnyIsIHJlcyk7CiAgICAgICAgX3RoaXMyLnRhYmxlRGF0YSA9IHJlcy5kYXRhOwogICAgICAgIF90aGlzMi5yZWNvcmRUb3RhbCA9IHJlcy5jb3VudDsKICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye75YiG6aG155uR5ZCs5pa55rOVCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKGN1clBhZ2UpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLnF1ZXJ5UGFyYW07CiAgICAgIHBhcmFtcy5wYWdlID0gY3VyUGFnZTsKICAgICAgcXVlcnlTdG9yYWdlc0J5UGFnZShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCLliIbpobXmlbDmja7ojrflj5bmiJDlip8iLCByZXMpOwogICAgICAgIF90aGlzMy50YWJsZURhdGEgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczMucmVjb3JkVG90YWwgPSByZXMuY291bnQ7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaQnOe0ouWbvuS5pgogICAgaGFuZGxlRmlsdGVyOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLnF1ZXJ5UGFyYW0ucGFnZSA9IDE7CiAgICAgIHF1ZXJ5U3RvcmFnZXNCeVBhZ2UodGhpcy5xdWVyeVBhcmFtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgIF90aGlzNC50YWJsZURhdGEgPSByZXMuZGF0YTsKICAgICAgICAgIF90aGlzNC5yZWNvcmRUb3RhbCA9IHJlcy5jb3VudDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaYvuekuuWFqOmDqAogICAgaGFuZGxlU2hvd0FsbDogZnVuY3Rpb24gaGFuZGxlU2hvd0FsbCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHRoaXMucXVlcnlQYXJhbS5wYWdlID0gMTsKICAgICAgdGhpcy5xdWVyeVBhcmFtLndhcmVob3VzZWlkID0gbnVsbDsKICAgICAgdGhpcy5xdWVyeVBhcmFtLmJvb2tpZCA9IG51bGw7CiAgICAgIHRoaXMucXVlcnlQYXJhbS5ib29rbmFtZSA9IG51bGw7CiAgICAgIHF1ZXJ5U3RvcmFnZSh0aGlzLnF1ZXJ5UGFyYW0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgICAgX3RoaXM1LnRhYmxlRGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgX3RoaXM1LnJlY29yZFRvdGFsID0gcmVzLmNvdW50OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye75re75Yqg6K6w5b2VCiAgICBoYW5kbGVDcmVhdGU6IGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIC8vIOS7juacjeWKoeWZqOiOt+WPluaJgOacieeahOWbvuS5puexu+WeiwogICAgICBxdWVyeVN0b3JhZ2UoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygi5Zu+5Lmm57G75Z6L6I635Y+W5oiQ5YqfIiwgcmVzKTsKICAgICAgICBfdGhpczYudHlwZURhdGEgPSByZXM7CiAgICAgIH0pOwogICAgICAvLyDooajljZXmmK/mt7vliqDnirbmgIEKICAgICAgdGhpcy5mb3JtVHlwZSA9IDA7CiAgICAgIC8vIOWwhuepuuaVsOaNrue9ruWFpWZvcm0KICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIHdhcmVob3VzZWlkOiBudWxsLAogICAgICAgIGNhcGFjaXR5OiAiIiwKICAgICAgICBib29raWQ6ICIiLAogICAgICAgIHdvcmtlcmlkOiAiMSIsCiAgICAgICAgYm9va25hbWU6ICIiLAogICAgICAgIHNpdGU6IDAsCiAgICAgICAgaW5wdXR0aW1lOiAiIgogICAgICB9OwogICAgICAvLyDmmL7npLrooajljZXmoYYKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy8g54K55Ye757yW6L6R6K6w5b2VCiAgICBoYW5kbGVVcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CiAgICAgIC8vIOS7juacjeWKoeWZqOiOt+WPluaJgOacieeahOWbvuS5puexu+WeiwogICAgICBxdWVyeVN0b3JhZ2UoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygi5Zu+5Lmm57G75Z6L6I635Y+W5oiQ5YqfIiwgcmVzKTsKICAgICAgICBfdGhpczcudHlwZURhdGEgPSByZXM7CiAgICAgIH0pOwogICAgICAvLyDooajljZXmmK/nvJbovpHnirbmgIEKICAgICAgdGhpcy5mb3JtVHlwZSA9IDE7CiAgICAgIC8vIOWwhuihjOaVsOaNrue9ruWFpWZvcm0KICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIHdhcmVob3VzZWlkOiByb3cud2FyZWhvdXNlaWQsCiAgICAgICAgY2FwYWNpdHk6IHJvdy5jYXBhY2l0eSwKICAgICAgICBib29raWQ6IHJvdy5ib29raWQsCiAgICAgICAgd29ya2VyaWQ6IHJvdy53b3JrZXJpZCwKICAgICAgICBib29rbmFtZTogcm93LmJvb2tuYW1lLAogICAgICAgIHNpdGU6IHJvdy5zaXRlLAogICAgICAgIGlucHV0dGltZTogcm93LmlucHV0dGltZQogICAgICB9OwogICAgICAvLyDmmL7npLrooajljZXmoYYKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy8g5re75Yqg5ZKM5pu05paw55qE5o+Q5Lqk6KGo5Y2VCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0pOwogICAgICAvLyBpZiAodGhpcy5mb3JtVHlwZSA9PT0gMCkgewogICAgICAvLyAgICAgLy8g5re75Yqg6K6w5b2VCiAgICAgIC8vICAgICBhZGRCb29rSW5mbyh0aGlzLmZvcm0pLnRoZW4oKHJlcykgPT4gewogICAgICAvLyAgICAgICAgIGlmIChyZXMgPT09IDEpIHsKICAgICAgLy8gICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmt7vliqDorrDlvZXmiJDlip8iKTsKICAgICAgLy8gICAgICAgICAgICAgLy8g6Lez6L2s5Yiw5pyr5bC+CiAgICAgIC8vICAgICAgICAgICAgIGdldENvdW50KCkudGhlbigocmVzKSA9PiB7CiAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZFRvdGFsID0gcmVzOwogICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeVBhcmFtLnBhZ2UgPSAxOwogICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDdXJyZW50Q2hhbmdlKHRoaXMucXVlcnlQYXJhbS5wYWdlKTsKICAgICAgLy8gICAgICAgICAgICAgfSk7CiAgICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgICAgLy8gICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5re75Yqg6K6w5b2V5aSx6LSlIik7CiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsgLy8g5YWz6Zet5a+56K+d5qGGCiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gfSBlbHNlIGlmICh0aGlzLmZvcm1UeXBlID09PSAxKSB7CiAgICAgIC8vICAgICAvL+abtOaWsOiusOW9lQogICAgICAvLyAgICAgdXBkYXRlU3RvcmFnZSh0aGlzLmZvcm0pLnRoZW4oKHJlcykgPT4gewogICAgICAvLyAgICAgICAgIGlmIChyZXMgPT09IDEgfHwgcmVzID09PSAwKSB7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5pu05paw6K6w5b2V5oiQ5YqfIik7CiAgICAgIC8vICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ3VycmVudENoYW5nZSh0aGlzLnF1ZXJ5UGFyYW0ucGFnZSk7CiAgICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgICAgLy8gICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5pu05paw6K6w5b2V5aSx6LSlIik7CiAgICAgIC8vICAgICAgICAgfQogICAgICAvLyAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsgLy8g5YWz6Zet5a+56K+d5qGGCiAgICAgIC8vICAgICB9KTsKICAgICAgLy8gfQogICAgICB2YXIgcmVzcG9uc2UgPSBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjkxMTEvQm9va01hbmFnZXIvc3RvcmFnZS91cGRhdGVTdG9yYWdlJywgewogICAgICAgIGNhcGFjaXR5OiB0aGlzLmZvcm0uY2FwYWNpdHksCiAgICAgICAgYm9va2lkOiB0aGlzLmZvcm0uYm9va2lkCiAgICAgIH0pOwogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7IC8vIOWFs+mXreWvueivneahhgogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgfSAvLyAgIC8vIOWIoOmZpOiusOW9lQogICAgLy8gICBoYW5kbGVEZWxldGUocm93LCBpbmRleCkgewogICAgLy8gICAgICAgdGhpcy4kY29uZmlybSgi56Gu5a6a6KaB5Yig6Zmk6K+l5p2h6K6w5b2V5ZCXPyIsICLmj5DnpLoiLCB7CiAgICAvLyAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgLy8gICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgLy8gICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgIC8vICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgLy8gICAgICAgICAgIGRlbGV0ZUJvb2tJbmZvKHJvdykudGhlbigocmVzKSA9PiB7CiAgICAvLyAgICAgICAgICAgICAgIGlmIChyZXMgPT09IDEpIHsKICAgIC8vICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk6K6w5b2V5oiQ5YqfIik7CiAgICAvLyAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5zcGxpY2UoaW5kZXgsIDEpOwogICAgLy8gICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5Yig5a6M5LqG77yM6I635Y+W5LiK5LiA6aG1CiAgICAvLyAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YWJsZURhdGEubGVuZ3RoID09PSAwKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeVBhcmFtLnBhZ2UgPSB0aGlzLnF1ZXJ5UGFyYW0ucGFnZSAtIDE7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDdXJyZW50Q2hhbmdlKHRoaXMucXVlcnlQYXJhbS5wYWdlKTsKICAgIC8vICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMgPT09IC0xKSB7CiAgICAvLyAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICLor6Xlm77kuablrZjlnKjkuI7or7vogIXnmoTlgJ/pmIXkv6Hmga/vvIzor7flsJ3or5XlhYjliKDpmaTmiYDmnInnmoTmnKzlm77kuablgJ/pmIXkv6Hmga/lho3ph43or5UiCiAgICAvLyAgICAgICAgICAgICAgICAgICApOwogICAgLy8gICAgICAgICAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5Yig6Zmk6K6w5b2V5aSx6LSlIik7CiAgICAvLyAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9LAogICAgLy8gICAvLyDliKDpmaTkuIDkupsKICAgIC8vICAgaGFuZGxlRGVsZXRlU29tZSgpIHsKICAgIC8vICAgICAgIHRoaXMuJGNvbmZpcm0oIuehruWumuimgeWIoOmZpOi/meS6m+iusOW9leWQlz8iLCAi5o+Q56S6IiwgewogICAgLy8gICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgIC8vICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgIC8vICAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAvLyAgICAgICB9KS50aGVuKCgpID0+IHsKICAgIC8vICAgICAgICAgICAvLyDojrflj5bpgInkuK3nmoTlr7nosaHmlbDnu4QKICAgIC8vICAgICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZS5zZWxlY3Rpb247CiAgICAvLyAgICAgICAgICAgZGVsZXRlQm9va0luZm9zKGl0ZW1zKS50aGVuKChyZXMpID0+IHsKICAgIC8vICAgICAgICAgICAgICAgaWYgKHJlcyA+IDApIHsKICAgIC8vICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6ZmkIiArIHJlcyArICLmnaHorrDlvZXmiJDlip8iKTsKICAgIC8vICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlRGF0YS5sZW5ndGggPT09IHJlcykgewogICAgLy8gICAgICAgICAgICAgICAgICAgICAgIC8v5aaC5p6c5pys6aG15YaF5a655YWo6YOo5Yig5YWJ5LqGCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgLy/lvZPliY3pobXkuLrkuIrkuIDpobUKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5xdWVyeVBhcmFtLnBhZ2UgIT09IDApIHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWVyeVBhcmFtLnBhZ2UgPSB0aGlzLnF1ZXJ5UGFyYW0ucGFnZSAtIDE7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgICAgICAgLy8g6YeN6L295b2T5YmN6aG1CiAgICAvLyAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUN1cnJlbnRDaGFuZ2UodGhpcy5xdWVyeVBhcmFtLnBhZ2UpOwogICAgLy8gICAgICAgICAgICAgICB9IGVsc2UgewogICAgLy8gICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5Yig6Zmk6K6w5b2V5aSx6LSlIik7CiAgICAvLyAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgIH0pOwogICAgLy8gICB9LAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOihqOagvOaVsOaNrgogICAgICB0YWJsZURhdGE6IFtdLAogICAgICAvLyDorrDlvZXmgLvmlbAKICAgICAgcmVjb3JkVG90YWw6IDAsCiAgICAgIC8vIOWbvuS5puexu+Wei+aVsOaNrgogICAgICB0eXBlRGF0YTogW10sCiAgICAgIC8vIOeUqOaIt+aVsOaNrgogICAgICB1c2VyRGF0YTogW10sCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBsaW1pdDogMTAsCiAgICAgICAgYm9va25hbWU6IG51bGwsCiAgICAgICAgYm9va2F1dGhvcjogbnVsbCwKICAgICAgICBib29rdHlwZWlkOiBudWxsCiAgICAgIH0sCiAgICAgIC8vIOWvueivneahhuihqOWNleaYvuekugogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlMjogZmFsc2UsCiAgICAgIC8vIOihqOWNleexu+Wei++8iOa3u+WKoOaVsOaNrjowLOS/ruaUueaVsOaNrjox77yJCiAgICAgIGZvcm1UeXBlOiAwLAogICAgICAvLyDooajljZXmlbDmja4KICAgICAgZm9ybTogewogICAgICAgIHdhcmVob3VzZWlkOiBudWxsLAogICAgICAgIGNhcGFjaXR5OiAiIiwKICAgICAgICBib29raWQ6IDAsCiAgICAgICAgd29ya2VyaWQ6IDEsCiAgICAgICAgYm9va25hbWU6ICIiLAogICAgICAgIHNpdGU6IDAsCiAgICAgICAgaW5wdXR0aW1lOiAiIgogICAgICB9LAogICAgICBmb3JtMjogewogICAgICAgIHVzZXJpZDogMSwKICAgICAgICBib29raWQ6IDEKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBib29rbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWbvuS5puWQjeensCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBib29rYXV0aG9yOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5L2c6ICFIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGJvb2twcmljZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeS7t+agvCIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBib29rdHlwZWlkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36YCJ5oup57G75Z6LIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGJvb2tkZXNjOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5o+P6L+wIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGlzYm9ycm93ZWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fpgInmi6nnirbmgIEiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJpZCIsICJuYW1lIiwgInJvbGVzIl0pKSwge30sIHsKICAgIC8vIOmAmui/h+ihqOWNleexu+Wei+iuoeeul+ihqOWNleagh+mimAogICAgZm9ybVRpdGxlOiBmdW5jdGlvbiBmb3JtVGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmZvcm1UeXBlID09PSAwID8gIua3u+WKoOiusOW9lSIgOiAi5L+u5pS56K6w5b2VIjsKICAgIH0sCiAgICByb2xlSXNBZG1pbjogZnVuY3Rpb24gcm9sZUlzQWRtaW4oKSB7CiAgICAgIGlmICh0aGlzLnJvbGVzWzBdID09PSAiYWRtaW4iKSByZXR1cm4gdHJ1ZTtlbHNlIGlmICh0aGlzLnJvbGVzWzBdID09PSAid29ya2VyIikgcmV0dXJuIHRydWU7ZWxzZSByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSkKfTs="},{"version":3,"names":["mapGetters","permission","waves","getCount","queryStoragesByPage","addStorage","deleteBookInfo","deleteBookInfos","updateStorage","queryStorage","queryBookTypes","borrowBook","queryUsers","axios","name","directives","created","_this","queryParam","then","res","console","log","tableData","data","recordTotal","count","typeData","mounted","roleIsAdmin","limit","handleSizeChange","methods","curSize","_this2","params","handleCurrentChange","curPage","_this3","page","handleFilter","_this4","code","handleShowAll","_this5","warehouseid","bookid","bookname","handleCreate","_this6","formType","form","capacity","workerid","site","inputtime","dialogFormVisible","handleUpdate","row","_this7","submitForm","response","post","location","reload","userData","bookauthor","booktypeid","dialogFormVisible2","form2","userid","rules","required","message","trigger","bookprice","bookdesc","isborrowed","computed","_objectSpread","formTitle","roles"],"sources":["src/views/storage/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n      <!-- 顶部功能 -->\r\n      <div class=\"filter-container\" style=\"margin-bottom: 15px\">\r\n          <!-- 书名输入 -->\r\n          <el-input\r\n              v-model=\"queryParam.bookname\"\r\n              placeholder=\"书名\"\r\n              style=\"width: 200px\"\r\n              class=\"filter-item\"\r\n              @keyup.enter.native=\"handleFilter\"\r\n          />\r\n          <!-- 作者输入 -->\r\n          <el-input\r\n              v-model=\"queryParam.bookauthor\"\r\n              placeholder=\"作者\"\r\n              style=\"width: 200px\"\r\n              class=\"filter-item\"\r\n              @keyup.enter.native=\"handleFilter\"\r\n          />\r\n          <!-- 类型选择 -->\r\n          <el-select\r\n              v-model=\"queryParam.booktypeid\"\r\n              filterable\r\n              placeholder=\"类型\"\r\n              clearable\r\n              class=\"filter-item\"\r\n              style=\"width: 200px\"\r\n          >\r\n              <el-option\r\n                  v-for=\"item in typeData\"\r\n                  :key=\"item.booktypeid\"\r\n                  :label=\"item.booktypename\"\r\n                  :value=\"item.booktypeid\"\r\n              />\r\n          </el-select>\r\n          <!-- 一些按钮 -->\r\n          <br />\r\n          <br />\r\n          <el-button\r\n              v-waves\r\n              style=\"font-size: 18px\"\r\n              class=\"filter-item\"\r\n              type=\"primary\"\r\n              @click=\"handleFilter\"\r\n          >\r\n              搜索\r\n          </el-button>\r\n          <el-button\r\n              v-waves\r\n              style=\"font-size: 18px\"\r\n              class=\"filter-item\"\r\n              type=\"primary\"\r\n              @click=\"handleFilter\"\r\n          >\r\n\r\n              显示全部\r\n          </el-button>\r\n\r\n\r\n      </div>\r\n\r\n      <!--弹出框-->\r\n      <el-dialog\r\n          :title=\"formTitle\"\r\n          :visible.sync=\"dialogFormVisible\"\r\n          width=\"40%\"\r\n      >\r\n          <el-row>\r\n              <el-col :span=\"16\">\r\n                  <!--普通表单-->\r\n                  <el-form\r\n                      :model=\"form\"\r\n                      :rules=\"rules\"\r\n                      ref=\"ruleForm\"\r\n                      label-width=\"80px\">\r\n\r\n                      <el-form-item label=\"库存量\" prop=\"capacity\">\r\n                          <el-input v-model=\"form.capacity\"></el-input>\r\n                      </el-form-item>\r\n\r\n\r\n                  </el-form>\r\n              </el-col>\r\n\r\n\r\n          </el-row>\r\n\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button\r\n                  @click=\"dialogFormVisible = false\"\r\n                  style=\"font-size: 18px\">\r\n              取 消\r\n              </el-button>\r\n              <el-button\r\n                  type=\"primary\"\r\n                  @click=\"submitForm\"\r\n                  style=\"font-size: 18px\">\r\n                  确 定11\r\n              </el-button>\r\n          </div>\r\n      </el-dialog>\r\n\r\n      <!--弹出框2-->\r\n      <el-dialog\r\n          title=\"选择用户\"\r\n          :visible.sync=\"dialogFormVisible2\"\r\n          width=\"400px\"\r\n      >\r\n          <el-form :model=\"form2\">\r\n              <el-form-item label=\"用户名\" prop=\"userid\" label-width=\"80px\">\r\n                  <el-select\r\n                      v-model=\"form2.booktypeid\"\r\n                      placeholder=\"请选择用户\"\r\n                  >\r\n                      <el-option\r\n                          v-for=\"item in userData\"\r\n                          :key=\"item.userid\"\r\n                          :label=\"item.username\"\r\n                          :value=\"item.userid\"\r\n                      >\r\n                      </el-option>\r\n                  </el-select>\r\n              </el-form-item>\r\n          </el-form>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button\r\n                  @click=\"dialogFormVisible2 = false\"\r\n                  style=\"font-size: 18px\"\r\n              >\r\n\r\n                  取 消</el-button\r\n              >\r\n              <el-button\r\n                  type=\"primary\"\r\n                  @click=\"submitForm\"\r\n                  style=\"font-size: 18px\">\r\n                  确 定</el-button>\r\n          </div>\r\n      </el-dialog>\r\n\r\n      <!--数据表格-->\r\n      <el-table\r\n          ref=\"multipleTable\"\r\n          :data=\"tableData\"\r\n          border\r\n          style=\"width: 100%\"\r\n      >\r\n          <el-table-column fixed type=\"selection\" width=\"55\">\r\n          </el-table-column>\r\n          <el-table-column fixed prop=\"warehouseid\" label=\"仓库号\" width=\"100\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"bookid\" label=\"图书序号\" width=\"120\" sortable>\r\n          </el-table-column>\r\n\r\n\r\n          <el-table-column\r\n              v-if=\"roleIsAdmin === false\"\r\n              label=\"图书封面\"\r\n              width=\"155\"\r\n          >\r\n              <template slot-scope=\"scope\">\r\n                  <el-image\r\n                      :src=\"$store.state.settings.baseApi + scope.row.bookimg\"\r\n                      style=\"width: 130px; height: 180px\"\r\n                  ></el-image>\r\n              </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"bookname\"\r\n              label=\"图书名称\"\r\n              width=\"150\"\r\n              show-overflow-tooltip\r\n          >\r\n          </el-table-column>\r\n\r\n\r\n          <el-table-column\r\n              prop=\"capacity\"\r\n              label=\"库存量\"\r\n              width=\"100\"\r\n              show-overflow-tooltip\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"inputtime\"\r\n              label=\"入库时间\"\r\n              min-width=\"300\"\r\n              show-overflow-tooltip>\r\n\r\n          </el-table-column>\r\n          <el-table-column label=\"库存地点\" width=\"100\" prop=\"site\">\r\n\r\n          </el-table-column>\r\n          <el-table-column\r\n              fixed=\"right\"\r\n              label=\"操作\"\r\n              width=\"130\"\r\n          >\r\n              <template slot-scope=\"scope\">\r\n                  <el-button\r\n                      v-permission=\"['admin','worker']\"\r\n                      @click=\"handleUpdate(scope.row)\"\r\n                      type=\"primary\"\r\n                      style=\"font-size: 18px\">\r\n                      编辑</el-button>\r\n\r\n\r\n\r\n              </template>\r\n          </el-table-column>\r\n      </el-table>\r\n\r\n      <!--分页条-->\r\n      <el-pagination\r\n          background\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page.sync=\"queryParam.page\"\r\n          :page-sizes=\"[5, 10, 20, 50]\"\r\n          :page-size=\"queryParam.limit\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"recordTotal\"\r\n          style=\"margin-top: 15px\"\r\n      >\r\n      </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport permission from \"@/directive/permission/index.js\"; // 权限判断指令\r\nimport waves from \"@/directive/waves\"; // waves directive\r\n\r\nimport {\r\n  getCount,\r\n  queryStoragesByPage,\r\n  addStorage,\r\n  deleteBookInfo,\r\n  deleteBookInfos,\r\n  updateStorage,\r\n  queryStorage,\r\n} from \"@/api/storage\";\r\nimport { queryBookTypes } from \"@/api/booktype\";\r\nimport { borrowBook } from \"@/api/borrow\";\r\nimport { queryUsers } from \"@/api/user\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Storage\",\r\n  directives: { waves, permission },\r\n  // 创建后\r\n  created() {\r\n      // 从服务器获取数据表格第一页的信息\r\n      queryStoragesByPage(this.queryParam).then((res) => {\r\n          console.log(\"首页数据获取成功\", res);\r\n          this.tableData = res.data;\r\n          this.recordTotal = res.count;\r\n      });\r\n      // 从服务器获取所有的图书类型\r\n      queryBookTypes().then((res) => {\r\n          console.log(\"图书类型获取成功\", res);\r\n          this.typeData = res;\r\n      });\r\n  },\r\n  mounted() {\r\n      if (this.roleIsAdmin === false) {\r\n          this.queryParam.limit = 5;\r\n          this.handleSizeChange(this.queryParam.limit);\r\n      }\r\n  },\r\n  methods: {\r\n      // 分页大小改变监听\r\n      handleSizeChange(curSize) {\r\n          const params = this.queryParam;\r\n          params.limit = curSize;\r\n          queryStoragesByPage(params).then((res) => {\r\n              console.log(\"分页数据获取成功\", res);\r\n              this.tableData = res.data;\r\n              this.recordTotal = res.count;\r\n          });\r\n      },\r\n\r\n      // 点击分页监听方法\r\n      handleCurrentChange(curPage) {\r\n          const params = this.queryParam;\r\n          params.page = curPage;\r\n\r\n          queryStoragesByPage(params).then((res) => {\r\n              console.log(\"分页数据获取成功\", res);\r\n              this.tableData = res.data;\r\n              this.recordTotal = res.count;\r\n          });\r\n      },\r\n\r\n      // 搜索图书\r\n      handleFilter() {\r\n          this.queryParam.page = 1;\r\n          queryStoragesByPage(this.queryParam).then((res) => {\r\n              if (res.code === 0) {\r\n                  this.tableData = res.data;\r\n                  this.recordTotal = res.count;\r\n              }\r\n          });\r\n      },\r\n\r\n      // 显示全部\r\n      handleShowAll() {\r\n          this.queryParam.page = 1;\r\n          this.queryParam.warehouseid = null;\r\n          this.queryParam.bookid = null;\r\n          this.queryParam.bookname = null;\r\n          queryStorage(this.queryParam).then((res) => {\r\n              if (res.code === 0) {\r\n                  this.tableData = res.data;\r\n                  this.recordTotal = res.count;\r\n              }\r\n          });\r\n      },\r\n\r\n\r\n      // 点击添加记录\r\n      handleCreate() {\r\n          // 从服务器获取所有的图书类型\r\n          queryStorage().then((res) => {\r\n              console.log(\"图书类型获取成功\", res);\r\n              this.typeData = res;\r\n          });\r\n          // 表单是添加状态\r\n          this.formType = 0;\r\n          // 将空数据置入form\r\n          this.form = {\r\n              warehouseid: null,\r\n              capacity: \"\",\r\n              bookid: \"\",\r\n              workerid: \"1\",\r\n              bookname: \"\",\r\n              site: 0,\r\n              inputtime: \"\",\r\n          };\r\n          // 显示表单框\r\n          this.dialogFormVisible = true;\r\n      },\r\n\r\n      // 点击编辑记录\r\n      handleUpdate(row) {\r\n          // 从服务器获取所有的图书类型\r\n          queryStorage().then((res) => {\r\n              console.log(\"图书类型获取成功\", res);\r\n              this.typeData = res;\r\n          });\r\n          // 表单是编辑状态\r\n          this.formType = 1;\r\n          // 将行数据置入form\r\n          this.form = {\r\n              warehouseid: row.warehouseid,\r\n              capacity: row.capacity,\r\n              bookid: row.bookid,\r\n              workerid: row.workerid,\r\n              bookname: row.bookname,\r\n              site: row.site,\r\n              inputtime: row.inputtime,\r\n          };\r\n          // 显示表单框\r\n          this.dialogFormVisible = true;\r\n      },\r\n\r\n      // 添加和更新的提交表单\r\n      submitForm() {\r\n        console.log(this.form)\r\n          // if (this.formType === 0) {\r\n          //     // 添加记录\r\n          //     addBookInfo(this.form).then((res) => {\r\n          //         if (res === 1) {\r\n          //             this.$message.success(\"添加记录成功\");\r\n          //             // 跳转到末尾\r\n          //             getCount().then((res) => {\r\n          //                 this.recordTotal = res;\r\n          //                 this.queryParam.page = 1;\r\n          //                 this.handleCurrentChange(this.queryParam.page);\r\n          //             });\r\n          //         } else {\r\n          //             this.$message.error(\"添加记录失败\");\r\n          //         }\r\n          //         this.dialogFormVisible = false; // 关闭对话框\r\n          //     });\r\n          // } else if (this.formType === 1) {\r\n          //     //更新记录\r\n          //     updateStorage(this.form).then((res) => {\r\n          //         if (res === 1 || res === 0) {\r\n          //             this.$message.success(\"更新记录成功\");\r\n          //             this.handleCurrentChange(this.queryParam.page);\r\n          //         } else {\r\n          //             this.$message.error(\"更新记录失败\");\r\n          //         }\r\n          //         this.dialogFormVisible = false; // 关闭对话框\r\n          //     });\r\n          // }\r\n        const response =  axios.post('http://localhost:9111/BookManager/storage/updateStorage', {\r\n            capacity : this.form.capacity,\r\n            bookid:this.form.bookid\r\n        });\r\n        this.dialogFormVisible = false; // 关闭对话框\r\n        location.reload()\r\n        console.log(response)\r\n      },\r\n\r\n    //   // 删除记录\r\n    //   handleDelete(row, index) {\r\n    //       this.$confirm(\"确定要删除该条记录吗?\", \"提示\", {\r\n    //           confirmButtonText: \"确定\",\r\n    //           cancelButtonText: \"取消\",\r\n    //           type: \"warning\",\r\n    //       }).then(() => {\r\n    //           deleteBookInfo(row).then((res) => {\r\n    //               if (res === 1) {\r\n    //                   this.$message.success(\"删除记录成功\");\r\n    //                   this.tableData.splice(index, 1);\r\n    //                   // 如果删完了，获取上一页\r\n    //                   if (this.tableData.length === 0) {\r\n    //                       this.queryParam.page = this.queryParam.page - 1;\r\n    //                       this.handleCurrentChange(this.queryParam.page);\r\n    //                   }\r\n    //               } else if (res === -1) {\r\n    //                   this.$message.error(\r\n    //                       \"该图书存在与读者的借阅信息，请尝试先删除所有的本图书借阅信息再重试\"\r\n    //                   );\r\n    //               } else {\r\n    //                   this.$message.error(\"删除记录失败\");\r\n    //               }\r\n    //           });\r\n    //       });\r\n    //   },\r\n\r\n    //   // 删除一些\r\n    //   handleDeleteSome() {\r\n    //       this.$confirm(\"确定要删除这些记录吗?\", \"提示\", {\r\n    //           confirmButtonText: \"确定\",\r\n    //           cancelButtonText: \"取消\",\r\n    //           type: \"warning\",\r\n    //       }).then(() => {\r\n    //           // 获取选中的对象数组\r\n    //           const items = this.$refs.multipleTable.selection;\r\n    //           deleteBookInfos(items).then((res) => {\r\n    //               if (res > 0) {\r\n    //                   this.$message.success(\"删除\" + res + \"条记录成功\");\r\n    //                   if (this.tableData.length === res) {\r\n    //                       //如果本页内容全部删光了\r\n    //                       //当前页为上一页\r\n    //                       if (this.queryParam.page !== 0) {\r\n    //                           this.queryParam.page = this.queryParam.page - 1;\r\n    //                       }\r\n    //                   }\r\n    //                   // 重载当前页\r\n    //                   this.handleCurrentChange(this.queryParam.page);\r\n    //               } else {\r\n    //                   this.$message.error(\"删除记录失败\");\r\n    //               }\r\n    //           });\r\n    //       });\r\n    //   },\r\n  },\r\n  data() {\r\n      return {\r\n          // 表格数据\r\n          tableData: [],\r\n          // 记录总数\r\n          recordTotal: 0,\r\n          // 图书类型数据\r\n          typeData: [],\r\n          // 用户数据\r\n          userData: [],\r\n          // 查询参数\r\n          queryParam: {\r\n              page: 1,\r\n              limit: 10,\r\n              bookname: null,\r\n              bookauthor: null,\r\n              booktypeid: null,\r\n          },\r\n          // 对话框表单显示\r\n          dialogFormVisible: false,\r\n          dialogFormVisible2: false,\r\n          // 表单类型（添加数据:0,修改数据:1）\r\n          formType: 0,\r\n          // 表单数据\r\n          form: {\r\n              warehouseid: null,\r\n              capacity: \"\",\r\n              bookid: 0,\r\n              workerid: 1,\r\n              bookname: \"\",\r\n              site: 0,\r\n              inputtime: \"\",\r\n          },\r\n          form2: {\r\n              userid: 1,\r\n              bookid: 1,\r\n          },\r\n          rules: {\r\n              bookname: [\r\n                  {\r\n                      required: true,\r\n                      message: \"请输入图书名称\",\r\n                      trigger: \"blur\",\r\n                  },\r\n              ],\r\n              bookauthor: [\r\n                  { required: true, message: \"请输入作者\", trigger: \"blur\" },\r\n              ],\r\n              bookprice: [\r\n                  { required: true, message: \"请输入价格\", trigger: \"blur\" },\r\n              ],\r\n              booktypeid: [\r\n                  { required: true, message: \"请选择类型\", trigger: \"blur\" },\r\n              ],\r\n              bookdesc: [\r\n                  { required: true, message: \"请输入描述\", trigger: \"blur\" },\r\n              ],\r\n              isborrowed: [\r\n                  { required: true, message: \"请选择状态\", trigger: \"blur\" },\r\n              ],\r\n          },\r\n      };\r\n  },\r\n  computed: {\r\n      // 获得user信息\r\n      ...mapGetters([\"id\", \"name\", \"roles\"]),\r\n      // 通过表单类型计算表单标题\r\n      formTitle() {\r\n          return this.formType === 0 ? \"添加记录\" : \"修改记录\";\r\n      },\r\n      roleIsAdmin() {\r\n          if (this.roles[0] === \"admin\") return true;\r\n          else if(this.roles[0] === \"worker\") return true;\r\n          else return false;\r\n      },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  line-height: 178px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 150px;\r\n  height: 200px;\r\n  display: block;\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsOA,SAAAA,UAAA;AACA,OAAAC,UAAA;AACA,OAAAC,KAAA;;AAEA,SACAC,QAAA,EACAC,mBAAA,EACAC,UAAA,EACAC,cAAA,EACAC,eAAA,EACAC,aAAA,EACAC,YAAA,QACA;AACA,SAAAC,cAAA;AACA,SAAAC,UAAA;AACA,SAAAC,UAAA;AACA,OAAAC,KAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAb,KAAA,EAAAA,KAAA;IAAAD,UAAA,EAAAA;EAAA;EACA;EACAe,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA;IACAb,mBAAA,MAAAc,UAAA,EAAAC,IAAA,WAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,aAAAF,GAAA;MACAH,KAAA,CAAAM,SAAA,GAAAH,GAAA,CAAAI,IAAA;MACAP,KAAA,CAAAQ,WAAA,GAAAL,GAAA,CAAAM,KAAA;IACA;IACA;IACAhB,cAAA,GAAAS,IAAA,WAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,aAAAF,GAAA;MACAH,KAAA,CAAAU,QAAA,GAAAP,GAAA;IACA;EACA;EACAQ,OAAA,WAAAA,QAAA;IACA,SAAAC,WAAA;MACA,KAAAX,UAAA,CAAAY,KAAA;MACA,KAAAC,gBAAA,MAAAb,UAAA,CAAAY,KAAA;IACA;EACA;EACAE,OAAA;IACA;IACAD,gBAAA,WAAAA,iBAAAE,OAAA;MAAA,IAAAC,MAAA;MACA,IAAAC,MAAA,QAAAjB,UAAA;MACAiB,MAAA,CAAAL,KAAA,GAAAG,OAAA;MACA7B,mBAAA,CAAA+B,MAAA,EAAAhB,IAAA,WAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,aAAAF,GAAA;QACAc,MAAA,CAAAX,SAAA,GAAAH,GAAA,CAAAI,IAAA;QACAU,MAAA,CAAAT,WAAA,GAAAL,GAAA,CAAAM,KAAA;MACA;IACA;IAEA;IACAU,mBAAA,WAAAA,oBAAAC,OAAA;MAAA,IAAAC,MAAA;MACA,IAAAH,MAAA,QAAAjB,UAAA;MACAiB,MAAA,CAAAI,IAAA,GAAAF,OAAA;MAEAjC,mBAAA,CAAA+B,MAAA,EAAAhB,IAAA,WAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,aAAAF,GAAA;QACAkB,MAAA,CAAAf,SAAA,GAAAH,GAAA,CAAAI,IAAA;QACAc,MAAA,CAAAb,WAAA,GAAAL,GAAA,CAAAM,KAAA;MACA;IACA;IAEA;IACAc,YAAA,WAAAA,aAAA;MAAA,IAAAC,MAAA;MACA,KAAAvB,UAAA,CAAAqB,IAAA;MACAnC,mBAAA,MAAAc,UAAA,EAAAC,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAsB,IAAA;UACAD,MAAA,CAAAlB,SAAA,GAAAH,GAAA,CAAAI,IAAA;UACAiB,MAAA,CAAAhB,WAAA,GAAAL,GAAA,CAAAM,KAAA;QACA;MACA;IACA;IAEA;IACAiB,aAAA,WAAAA,cAAA;MAAA,IAAAC,MAAA;MACA,KAAA1B,UAAA,CAAAqB,IAAA;MACA,KAAArB,UAAA,CAAA2B,WAAA;MACA,KAAA3B,UAAA,CAAA4B,MAAA;MACA,KAAA5B,UAAA,CAAA6B,QAAA;MACAtC,YAAA,MAAAS,UAAA,EAAAC,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAsB,IAAA;UACAE,MAAA,CAAArB,SAAA,GAAAH,GAAA,CAAAI,IAAA;UACAoB,MAAA,CAAAnB,WAAA,GAAAL,GAAA,CAAAM,KAAA;QACA;MACA;IACA;IAGA;IACAsB,YAAA,WAAAA,aAAA;MAAA,IAAAC,MAAA;MACA;MACAxC,YAAA,GAAAU,IAAA,WAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,aAAAF,GAAA;QACA6B,MAAA,CAAAtB,QAAA,GAAAP,GAAA;MACA;MACA;MACA,KAAA8B,QAAA;MACA;MACA,KAAAC,IAAA;QACAN,WAAA;QACAO,QAAA;QACAN,MAAA;QACAO,QAAA;QACAN,QAAA;QACAO,IAAA;QACAC,SAAA;MACA;MACA;MACA,KAAAC,iBAAA;IACA;IAEA;IACAC,YAAA,WAAAA,aAAAC,GAAA;MAAA,IAAAC,MAAA;MACA;MACAlD,YAAA,GAAAU,IAAA,WAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,aAAAF,GAAA;QACAuC,MAAA,CAAAhC,QAAA,GAAAP,GAAA;MACA;MACA;MACA,KAAA8B,QAAA;MACA;MACA,KAAAC,IAAA;QACAN,WAAA,EAAAa,GAAA,CAAAb,WAAA;QACAO,QAAA,EAAAM,GAAA,CAAAN,QAAA;QACAN,MAAA,EAAAY,GAAA,CAAAZ,MAAA;QACAO,QAAA,EAAAK,GAAA,CAAAL,QAAA;QACAN,QAAA,EAAAW,GAAA,CAAAX,QAAA;QACAO,IAAA,EAAAI,GAAA,CAAAJ,IAAA;QACAC,SAAA,EAAAG,GAAA,CAAAH;MACA;MACA;MACA,KAAAC,iBAAA;IACA;IAEA;IACAI,UAAA,WAAAA,WAAA;MACAvC,OAAA,CAAAC,GAAA,MAAA6B,IAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,IAAAU,QAAA,GAAAhD,KAAA,CAAAiD,IAAA;QACAV,QAAA,OAAAD,IAAA,CAAAC,QAAA;QACAN,MAAA,OAAAK,IAAA,CAAAL;MACA;MACA,KAAAU,iBAAA;MACAO,QAAA,CAAAC,MAAA;MACA3C,OAAA,CAAAC,GAAA,CAAAuC,QAAA;IACA,EAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACArC,IAAA,WAAAA,KAAA;IACA;MACA;MACAD,SAAA;MACA;MACAE,WAAA;MACA;MACAE,QAAA;MACA;MACAsC,QAAA;MACA;MACA/C,UAAA;QACAqB,IAAA;QACAT,KAAA;QACAiB,QAAA;QACAmB,UAAA;QACAC,UAAA;MACA;MACA;MACAX,iBAAA;MACAY,kBAAA;MACA;MACAlB,QAAA;MACA;MACAC,IAAA;QACAN,WAAA;QACAO,QAAA;QACAN,MAAA;QACAO,QAAA;QACAN,QAAA;QACAO,IAAA;QACAC,SAAA;MACA;MACAc,KAAA;QACAC,MAAA;QACAxB,MAAA;MACA;MACAyB,KAAA;QACAxB,QAAA,GACA;UACAyB,QAAA;UACAC,OAAA;UACAC,OAAA;QACA,EACA;QACAR,UAAA,GACA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAC,SAAA,GACA;UAAAH,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAP,UAAA,GACA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAE,QAAA,GACA;UAAAJ,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAG,UAAA,GACA;UAAAL,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAI,QAAA,EAAAC,aAAA,CAAAA,aAAA,KAEA/E,UAAA;IACA;IACAgF,SAAA,WAAAA,UAAA;MACA,YAAA9B,QAAA;IACA;IACArB,WAAA,WAAAA,YAAA;MACA,SAAAoD,KAAA,kCACA,SAAAA,KAAA,mCACA;IACA;EAAA;AAEA"}]}