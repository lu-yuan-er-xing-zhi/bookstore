{"remainingRequest":"D:\\BookManager\\BookManagerVue\\node_modules\\babel-loader\\lib\\index.js!D:\\BookManager\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\BookManager\\BookManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BookManager\\BookManagerVue\\src\\views\\payinfo\\pay.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\BookManager\\BookManagerVue\\src\\views\\payinfo\\pay.vue","mtime":1719200820786},{"path":"D:\\BookManager\\BookManagerVue\\babel.config.js","mtime":1713778488000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713778494000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1713778492000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713778494000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1713778512000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovQm9va01hbmFnZXIvQm9va01hbmFnZXJWdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9Cb29rTWFuYWdlci9Cb29rTWFuYWdlclZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0ZWRQYXltZW50TWV0aG9kOiAnd2VjaGF0JywKICAgICAgYW1vdW50OiAnJywKICAgICAgLy8g5YGH5a6a5q2k5YC855Sx5aSW6YOo5Lyg5YWl5oiW5LuOVnVleOiOt+WPlgogICAgICBjYXJkTnVtYmVyOiAnJywKICAgICAgY2FyZE51bWJlckVycm9yOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaXNCdXR0b25EaXNhYmxlZDogZnVuY3Rpb24gaXNCdXR0b25EaXNhYmxlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMubG9hZGluZyB8fCB0aGlzLnNlbGVjdGVkUGF5bWVudE1ldGhvZCA9PT0gJ2JhbmtDYXJkJyAmJiB0aGlzLmNhcmROdW1iZXJFcnJvcjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkYXRlQ2FyZE51bWJlcjogZnVuY3Rpb24gdmFsaWRhdGVDYXJkTnVtYmVyKCkgewogICAgICAvLyDnroDljZXnpLrkvovvvIzlrp7pmYXlupTmoLnmja7pk7booYzljaHlj7fop4TliJnov5vooYzmoKHpqowKICAgICAgdGhpcy5jYXJkTnVtYmVyRXJyb3IgPSAhL15cZHsxNn0kLy50ZXN0KHRoaXMuY2FyZE51bWJlcik7CiAgICB9LAogICAgc3VibWl0UGF5bWVudDogZnVuY3Rpb24gc3VibWl0UGF5bWVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgYWxlcnQoJ+aUr+S7mOaIkOWKnycpOwogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAnQm9ycm93JwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF90aGlzLnJlc2V0Rm9ybSgpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgYWxlcnQoJ+aUr+S7mOWksei0pe+8jOivt+mHjeivlScpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgxMik7CiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDksIDEyLCAxNV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuYW1vdW50ID0gJyc7CiAgICAgIHRoaXMuY2FyZE51bWJlciA9ICcnOwogICAgICB0aGlzLmNhcmROdW1iZXJFcnJvciA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"names":["data","selectedPaymentMethod","amount","cardNumber","cardNumberError","loading","computed","isButtonDisabled","methods","validateCardNumber","test","submitPayment","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","Promise","resolve","setTimeout","alert","$router","push","name","resetForm","t0","finish","stop"],"sources":["src/views/payinfo/pay.vue"],"sourcesContent":["\r\n<!--  &lt;!&ndash; SimplePayPage.vue &ndash;&gt;-->\r\n<!--  <template>-->\r\n<!--    <div class=\"payment-container\">-->\r\n<!--      <h1>支付</h1>-->\r\n<!--      <form @submit.prevent=\"submitPayment\">-->\r\n<!--        <div>-->\r\n<!--          <label for=\"paymentMethod\">支付方式:-->\r\n<!--          <select v-model=\"selectedPaymentMethod\" id=\"paymentMethod\">-->\r\n<!--            <option value=\"wechat\">微信支付</option>-->\r\n<!--            <option value=\"alipay\">支付宝</option>-->\r\n<!--            <option value=\"bankCard\">银行卡</option>-->\r\n<!--          </select>-->\r\n<!--          </label>-->\r\n<!--        </div>-->\r\n\r\n<!--        <div v-if=\"selectedPaymentMethod === 'bankCard'\">-->\r\n<!--          <label for=\"cardNumber\">卡号:</label>-->\r\n<!--          <input type=\"text\" v-model=\"cardNumber\" id=\"cardNumber\" required>-->\r\n<!--        </div>-->\r\n<!--        <button type=\"submit\" >确认支付</button>-->\r\n<!--      </form>-->\r\n<!--    </div>-->\r\n<!--  </template>-->\r\n\r\n<!--<script>-->\r\n<!--export default {-->\r\n<!--  data() {-->\r\n<!--    return {-->\r\n<!--      selectedPaymentMethod: 'wechat',-->\r\n<!--      amount: '',-->\r\n<!--      cardNumber: ''-->\r\n<!--    };-->\r\n<!--  },-->\r\n<!--  methods: {-->\r\n<!--    submitPayment() {-->\r\n<!--      alert('支付成功');-->\r\n<!--      this.$router.push({ name: 'Borrow' });-->\r\n<!--      // 清空表单-->\r\n<!--      this.amount = '';-->\r\n<!--      if (this.selectedPaymentMethod === 'bankCard') {-->\r\n<!--        this.cardNumber = '';-->\r\n<!--      }-->\r\n<!--    },-->\r\n\r\n<!--  }-->\r\n<!--};-->\r\n<!--</script>-->\r\n<!--  <style scoped>-->\r\n<!--  .payment-container {-->\r\n<!--    width: 300px;-->\r\n<!--    margin: 50px auto;-->\r\n<!--    padding: 30px;-->\r\n<!--    border-radius: 10px;-->\r\n<!--    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);-->\r\n<!--    background-color: #fff;-->\r\n<!--  }-->\r\n\r\n<!--  h1 {-->\r\n<!--    font-size: 24px;-->\r\n<!--    text-align: center;-->\r\n<!--    margin-bottom: 20px;-->\r\n<!--  }-->\r\n\r\n<!--  label {-->\r\n<!--    display: block;-->\r\n<!--    margin-bottom: 5px;-->\r\n<!--    font-weight: bold;-->\r\n<!--  }-->\r\n\r\n<!--  select, input {-->\r\n<!--    padding: 10px;-->\r\n<!--    border: 1px solid #ddd;-->\r\n<!--    border-radius: 5px;-->\r\n<!--    outline: none;-->\r\n<!--    transition: border-color 0.3s ease;-->\r\n<!--  }-->\r\n\r\n<!--  select:focus, input:focus {-->\r\n<!--    border-color: #007bff;-->\r\n<!--  }-->\r\n\r\n<!--  button {-->\r\n<!--    padding: 10px;-->\r\n<!--    width: 100%;-->\r\n<!--    border: none;-->\r\n<!--    border-radius: 5px;-->\r\n<!--    background-color: #007bff;-->\r\n<!--    color: #fff;-->\r\n<!--    cursor: pointer;-->\r\n<!--    transition: background-color 0.3s ease;-->\r\n<!--  }-->\r\n\r\n<!--  button:hover {-->\r\n<!--    background-color: #0056b3;-->\r\n<!--  }-->\r\n\r\n<!--  button:disabled {-->\r\n<!--    opacity: 0.6;-->\r\n<!--    cursor: not-allowed;-->\r\n<!--  }-->\r\n<!--  </style>-->\r\n<template>\r\n  <div class=\"payment-container\">\r\n    <h1>支付</h1>\r\n    <form @submit.prevent=\"submitPayment\">\r\n      <div>\r\n        <label for=\"paymentMethod\">支付方式:</label>\r\n        <select v-model=\"selectedPaymentMethod\" id=\"paymentMethod\">\r\n          <option value=\"wechat\"><i class=\"icon wechat\"></i> 微信支付</option>\r\n          <option value=\"alipay\"><i class=\"icon alipay\"></i> 支付宝</option>\r\n          <option value=\"bankCard\"><i class=\"icon bank-card\"></i> 银行卡</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div v-if=\"selectedPaymentMethod === 'bankCard'\">\r\n        <label for=\"cardNumber\">卡号:</label>\r\n        <input type=\"text\" v-model=\"cardNumber\" id=\"cardNumber\" required @input=\"validateCardNumber\" :class=\"{ 'error': cardNumberError }\">\r\n        <p v-if=\"cardNumberError\" class=\"error-message\">请输入有效的卡号</p>\r\n      </div>\r\n\r\n      <!-- 假设金额从父组件传入 -->\r\n      <p>支付金额: {{ amount }}元</p>\r\n\r\n      <button type=\"submit\" :disabled=\"isButtonDisabled\">确认支付</button>\r\n      <div v-if=\"loading\" class=\"loading-spinner\"></div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedPaymentMethod: 'wechat',\r\n      amount: '', // 假定此值由外部传入或从Vuex获取\r\n      cardNumber: '',\r\n      cardNumberError: false,\r\n      loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    isButtonDisabled() {\r\n      return this.loading || (this.selectedPaymentMethod === 'bankCard' && this.cardNumberError);\r\n    }\r\n  },\r\n  methods: {\r\n    validateCardNumber() {\r\n      // 简单示例，实际应根据银行卡号规则进行校验\r\n      this.cardNumberError = !/^\\d{16}$/.test(this.cardNumber);\r\n    },\r\n    async submitPayment() {\r\n      this.loading = true;\r\n      try {\r\n        // 模拟异步支付过程\r\n        await new Promise((resolve) => setTimeout(resolve, 1000));\r\n        alert('支付成功');\r\n        this.$router.push({ name: 'Borrow' });\r\n        this.resetForm();\r\n      } catch (error) {\r\n        alert('支付失败，请重试');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    resetForm() {\r\n      this.amount = '';\r\n      this.cardNumber = '';\r\n      this.cardNumberError = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 增加图标样式和错误消息样式 */\r\n.icon {\r\n  margin-right: 5px;\r\n  /* 这里应使用实际的图标字体或图片样式 */\r\n}\r\n\r\n.error {\r\n  border-color: red;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  margin-top: 5px;\r\n}\r\n\r\n.loading-spinner {\r\n  display: inline-block;\r\n  border: 4px solid rgba(0, 0, 0, 0.1);\r\n  border-left-color: #007bff;\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;EACAA,IAAA,WAAAA,KAAA;IACA;MACAC,qBAAA;MACAC,MAAA;MAAA;MACAC,UAAA;MACAC,eAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACAC,gBAAA,WAAAA,iBAAA;MACA,YAAAF,OAAA,SAAAJ,qBAAA,wBAAAG,eAAA;IACA;EACA;EACAI,OAAA;IACAC,kBAAA,WAAAA,mBAAA;MACA;MACA,KAAAL,eAAA,eAAAM,IAAA,MAAAP,UAAA;IACA;IACAQ,aAAA,WAAAA,cAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAT,KAAA,CAAAP,OAAA;cAAAc,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAGA,IAAAC,OAAA,WAAAC,OAAA;gBAAA,OAAAC,UAAA,CAAAD,OAAA;cAAA;YAAA;cACAE,KAAA;cACAb,KAAA,CAAAc,OAAA,CAAAC,IAAA;gBAAAC,IAAA;cAAA;cACAhB,KAAA,CAAAiB,SAAA;cAAAV,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAW,EAAA,GAAAX,QAAA;cAEAM,KAAA;YAAA;cAAAN,QAAA,CAAAC,IAAA;cAEAR,KAAA,CAAAP,OAAA;cAAA,OAAAc,QAAA,CAAAY,MAAA;YAAA;YAAA;cAAA,OAAAZ,QAAA,CAAAa,IAAA;UAAA;QAAA,GAAAhB,OAAA;MAAA;IAEA;IACAa,SAAA,WAAAA,UAAA;MACA,KAAA3B,MAAA;MACA,KAAAC,UAAA;MACA,KAAAC,eAAA;IACA;EACA;AACA"}]}