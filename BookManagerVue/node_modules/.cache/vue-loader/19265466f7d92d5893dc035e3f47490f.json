{"remainingRequest":"D:\\BookManager\\BookManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BookManager\\BookManagerVue\\src\\views\\payinfo\\pay.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\BookManager\\BookManagerVue\\src\\views\\payinfo\\pay.vue","mtime":1719200820786},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713778494000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1713778492000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713778494000},{"path":"D:\\BookManager\\BookManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1713778512000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNlbGVjdGVkUGF5bWVudE1ldGhvZDogJ3dlY2hhdCcsDQogICAgICBhbW91bnQ6ICcnLCAvLyDlgYflrprmraTlgLznlLHlpJbpg6jkvKDlhaXmiJbku45WdWV46I635Y+WDQogICAgICBjYXJkTnVtYmVyOiAnJywNCiAgICAgIGNhcmROdW1iZXJFcnJvcjogZmFsc2UsDQogICAgICBsb2FkaW5nOiBmYWxzZQ0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgaXNCdXR0b25EaXNhYmxlZCgpIHsNCiAgICAgIHJldHVybiB0aGlzLmxvYWRpbmcgfHwgKHRoaXMuc2VsZWN0ZWRQYXltZW50TWV0aG9kID09PSAnYmFua0NhcmQnICYmIHRoaXMuY2FyZE51bWJlckVycm9yKTsNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB2YWxpZGF0ZUNhcmROdW1iZXIoKSB7DQogICAgICAvLyDnroDljZXnpLrkvovvvIzlrp7pmYXlupTmoLnmja7pk7booYzljaHlj7fop4TliJnov5vooYzmoKHpqowNCiAgICAgIHRoaXMuY2FyZE51bWJlckVycm9yID0gIS9eXGR7MTZ9JC8udGVzdCh0aGlzLmNhcmROdW1iZXIpOw0KICAgIH0sDQogICAgYXN5bmMgc3VibWl0UGF5bWVudCgpIHsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7DQogICAgICB0cnkgew0KICAgICAgICAvLyDmqKHmi5/lvILmraXmlK/ku5jov4fnqIsNCiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpOw0KICAgICAgICBhbGVydCgn5pSv5LuY5oiQ5YqfJyk7DQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ0JvcnJvdycgfSk7DQogICAgICAgIHRoaXMucmVzZXRGb3JtKCk7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBhbGVydCgn5pSv5LuY5aSx6LSl77yM6K+36YeN6K+VJyk7DQogICAgICB9IGZpbmFsbHkgew0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHJlc2V0Rm9ybSgpIHsNCiAgICAgIHRoaXMuYW1vdW50ID0gJyc7DQogICAgICB0aGlzLmNhcmROdW1iZXIgPSAnJzsNCiAgICAgIHRoaXMuY2FyZE51bWJlckVycm9yID0gZmFsc2U7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["pay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pay.vue","sourceRoot":"src/views/payinfo","sourcesContent":["\r\n<!--  &lt;!&ndash; SimplePayPage.vue &ndash;&gt;-->\r\n<!--  <template>-->\r\n<!--    <div class=\"payment-container\">-->\r\n<!--      <h1>支付</h1>-->\r\n<!--      <form @submit.prevent=\"submitPayment\">-->\r\n<!--        <div>-->\r\n<!--          <label for=\"paymentMethod\">支付方式:-->\r\n<!--          <select v-model=\"selectedPaymentMethod\" id=\"paymentMethod\">-->\r\n<!--            <option value=\"wechat\">微信支付</option>-->\r\n<!--            <option value=\"alipay\">支付宝</option>-->\r\n<!--            <option value=\"bankCard\">银行卡</option>-->\r\n<!--          </select>-->\r\n<!--          </label>-->\r\n<!--        </div>-->\r\n\r\n<!--        <div v-if=\"selectedPaymentMethod === 'bankCard'\">-->\r\n<!--          <label for=\"cardNumber\">卡号:</label>-->\r\n<!--          <input type=\"text\" v-model=\"cardNumber\" id=\"cardNumber\" required>-->\r\n<!--        </div>-->\r\n<!--        <button type=\"submit\" >确认支付</button>-->\r\n<!--      </form>-->\r\n<!--    </div>-->\r\n<!--  </template>-->\r\n\r\n<!--<script>-->\r\n<!--export default {-->\r\n<!--  data() {-->\r\n<!--    return {-->\r\n<!--      selectedPaymentMethod: 'wechat',-->\r\n<!--      amount: '',-->\r\n<!--      cardNumber: ''-->\r\n<!--    };-->\r\n<!--  },-->\r\n<!--  methods: {-->\r\n<!--    submitPayment() {-->\r\n<!--      alert('支付成功');-->\r\n<!--      this.$router.push({ name: 'Borrow' });-->\r\n<!--      // 清空表单-->\r\n<!--      this.amount = '';-->\r\n<!--      if (this.selectedPaymentMethod === 'bankCard') {-->\r\n<!--        this.cardNumber = '';-->\r\n<!--      }-->\r\n<!--    },-->\r\n\r\n<!--  }-->\r\n<!--};-->\r\n<!--</script>-->\r\n<!--  <style scoped>-->\r\n<!--  .payment-container {-->\r\n<!--    width: 300px;-->\r\n<!--    margin: 50px auto;-->\r\n<!--    padding: 30px;-->\r\n<!--    border-radius: 10px;-->\r\n<!--    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);-->\r\n<!--    background-color: #fff;-->\r\n<!--  }-->\r\n\r\n<!--  h1 {-->\r\n<!--    font-size: 24px;-->\r\n<!--    text-align: center;-->\r\n<!--    margin-bottom: 20px;-->\r\n<!--  }-->\r\n\r\n<!--  label {-->\r\n<!--    display: block;-->\r\n<!--    margin-bottom: 5px;-->\r\n<!--    font-weight: bold;-->\r\n<!--  }-->\r\n\r\n<!--  select, input {-->\r\n<!--    padding: 10px;-->\r\n<!--    border: 1px solid #ddd;-->\r\n<!--    border-radius: 5px;-->\r\n<!--    outline: none;-->\r\n<!--    transition: border-color 0.3s ease;-->\r\n<!--  }-->\r\n\r\n<!--  select:focus, input:focus {-->\r\n<!--    border-color: #007bff;-->\r\n<!--  }-->\r\n\r\n<!--  button {-->\r\n<!--    padding: 10px;-->\r\n<!--    width: 100%;-->\r\n<!--    border: none;-->\r\n<!--    border-radius: 5px;-->\r\n<!--    background-color: #007bff;-->\r\n<!--    color: #fff;-->\r\n<!--    cursor: pointer;-->\r\n<!--    transition: background-color 0.3s ease;-->\r\n<!--  }-->\r\n\r\n<!--  button:hover {-->\r\n<!--    background-color: #0056b3;-->\r\n<!--  }-->\r\n\r\n<!--  button:disabled {-->\r\n<!--    opacity: 0.6;-->\r\n<!--    cursor: not-allowed;-->\r\n<!--  }-->\r\n<!--  </style>-->\r\n<template>\r\n  <div class=\"payment-container\">\r\n    <h1>支付</h1>\r\n    <form @submit.prevent=\"submitPayment\">\r\n      <div>\r\n        <label for=\"paymentMethod\">支付方式:</label>\r\n        <select v-model=\"selectedPaymentMethod\" id=\"paymentMethod\">\r\n          <option value=\"wechat\"><i class=\"icon wechat\"></i> 微信支付</option>\r\n          <option value=\"alipay\"><i class=\"icon alipay\"></i> 支付宝</option>\r\n          <option value=\"bankCard\"><i class=\"icon bank-card\"></i> 银行卡</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div v-if=\"selectedPaymentMethod === 'bankCard'\">\r\n        <label for=\"cardNumber\">卡号:</label>\r\n        <input type=\"text\" v-model=\"cardNumber\" id=\"cardNumber\" required @input=\"validateCardNumber\" :class=\"{ 'error': cardNumberError }\">\r\n        <p v-if=\"cardNumberError\" class=\"error-message\">请输入有效的卡号</p>\r\n      </div>\r\n\r\n      <!-- 假设金额从父组件传入 -->\r\n      <p>支付金额: {{ amount }}元</p>\r\n\r\n      <button type=\"submit\" :disabled=\"isButtonDisabled\">确认支付</button>\r\n      <div v-if=\"loading\" class=\"loading-spinner\"></div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      selectedPaymentMethod: 'wechat',\r\n      amount: '', // 假定此值由外部传入或从Vuex获取\r\n      cardNumber: '',\r\n      cardNumberError: false,\r\n      loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    isButtonDisabled() {\r\n      return this.loading || (this.selectedPaymentMethod === 'bankCard' && this.cardNumberError);\r\n    }\r\n  },\r\n  methods: {\r\n    validateCardNumber() {\r\n      // 简单示例，实际应根据银行卡号规则进行校验\r\n      this.cardNumberError = !/^\\d{16}$/.test(this.cardNumber);\r\n    },\r\n    async submitPayment() {\r\n      this.loading = true;\r\n      try {\r\n        // 模拟异步支付过程\r\n        await new Promise((resolve) => setTimeout(resolve, 1000));\r\n        alert('支付成功');\r\n        this.$router.push({ name: 'Borrow' });\r\n        this.resetForm();\r\n      } catch (error) {\r\n        alert('支付失败，请重试');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    resetForm() {\r\n      this.amount = '';\r\n      this.cardNumber = '';\r\n      this.cardNumberError = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 增加图标样式和错误消息样式 */\r\n.icon {\r\n  margin-right: 5px;\r\n  /* 这里应使用实际的图标字体或图片样式 */\r\n}\r\n\r\n.error {\r\n  border-color: red;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  margin-top: 5px;\r\n}\r\n\r\n.loading-spinner {\r\n  display: inline-block;\r\n  border: 4px solid rgba(0, 0, 0, 0.1);\r\n  border-left-color: #007bff;\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n</style>\r\n"]}]}